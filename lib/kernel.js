/** kernel.js by AceMood@Saber-Team */
!function(a){"use strict";function b(){}function c(a,b,c){if(Q&&a.forEach===Q)a.forEach(b,c);else if(a.length===+a.length)for(var d=0,e=a.length;e>d&&b.call(c,a[d],d,a)!==T;d++);}function d(a,b){for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}function e(a){return U[S.call(a)]}function f(a){return void 0===a||null===a}function g(a){N.addImport(a),M.onload=h,_++,31===_&&(k(),_=0)}function h(){$();var a=ab.shift();return a?($=a[1],void g(a[0])):void($=null)}function i(a,b){if(N&&N.addImport||k(),N&&N.addImport)$?ab.push([a,b]):(g(a),$=b);else{M.textContent='@import "'+a+'";';var c=setInterval(function(){try{{M.sheet.cssRules}clearInterval(c),b()}catch(a){}},10)}}function j(a,b){var c=function(){for(var a=0;a<document.styleSheets.length;a++){var f=document.styleSheets[a];if(f.href===d.href)return clearTimeout(e),b()}e=setTimeout(c,10)},d=document.createElement("link");if(d.type="text/css",d.rel="stylesheet",Z)d.onload=function(){d.onload=null,setTimeout(b,7)};else var e=setTimeout(c,10);d.href=a,cb.appendChild(d)}function k(){M=bb.createElement("style"),cb.appendChild(M),N=M.styleSheet||M.sheet}function l(a,b){function c(){var c,d=rb.cache,e=tb+sb++,f=a;d.path2uid[f]?d.path2uid[f].push(e):d.path2uid[f]=[e],c=d.mods[e]=new B({uid:e,id:null,url:a,deps:[],factory:null,status:B.STATUS.complete}),L(yb.create,[c]),b&&u(b)&&!c.id&&(c.id=b),H(c)}var d=Y?i:j;d(a,c)}function m(a,b,c){var d=function(){(!e.readyState||/complete/.test(e.readyState))&&(fb=null,e.onreadystatschange=e.onload=e.onerror=null,rb.data.debug||cb.removeChild(e),e=null,c())},e=bb.createElement("script");e.charset="utf-8",e.async=1,e.kn_name=b,e.onreadystatechange=e.onload=e.onerror=d,e.src=a,eb=e,db?cb.insertBefore(e,db):cb.appendChild(e),eb=null}function n(a,b,c){a.indexOf(".css")===a.length-4?l(a,b,c):m(a,b,c)}function o(){return bb.getElementsByTagName("script")}function p(){return eb||function(){var a;if(gb)return fb&&"interactive"===fb.readyState?fb:(a=o(),c(a,function(a){return"interactive"===a.readyState?(fb=a,T):void 0}),fb);var b,d=null;try{var e=new Error;throw Error.stackTraceLimit=100,e}catch(f){b=f.stack}if(!b)return d;var f=-1!==b.indexOf(" at ")?" at ":"@",g=b.indexOf(".async");if(g>-1)b=b.substring(g+7),b=b.split(f)[1],b=b.replace(/^([^\(]*\()/,"");else for(;-1!==b.indexOf(f);)b=b.substring(b.indexOf(f)+f.length);return b=b.substring(0,b.indexOf(".js")+3),b=b.replace(/^([^\(]*\()/,""),c(o(),function(a){var c=q(a);return c===b?(d=a,T):void 0}),d}()}function q(a){return a.hasAttribute?a.src:a.getAttribute("src",4)}function r(){var a=p();return a?q(a):null}function s(a){return a=a.replace(/(\/)+/g,kb),a=t(a)}function t(a){a=a.split(kb);for(var b=0;b<a.length;++b)a[b]===jb?(a.splice(b,1),--b):a[b]===lb&&b>0&&a[b-1]!==lb&&(a.splice(b-1,2),b-=2);return a.join(kb)}function u(a){return w(a)&&a.charAt(0)!==jb}function v(a){return/:\/\//.test(a)||/^\//.test(a)}function w(a){return!v(a)&&(/^(\.){1,2}\//.test(a)||a.charAt(0)!==kb)}function x(a,b){if(/^(require|module|exports)$/.test(a))return a;u(a)&&(a=z(a),a=A(a),b=null),a=s(a);var c=a.charAt(0)===kb?"":kb,d=y(b?b:mb.href)+c+a;return ib.test(d)||(d+=".js"),d=t(d)}function y(a){if(hb.test(a))return a.slice(0,-1);var b=a.split(kb);return b.pop(),b.join(kb)}function z(a){var b=[],c=rb.data.paths;if(c){for(var d=a,e=a.split(kb);!(d in c)&&e.length;)b.unshift(e.pop()),d=e.join(kb);a=c[d]?c[d]:d}return a+b.join(kb)}function A(a){var b=rb.data.packages,d="";return b&&b.length>0&&c(b,function(b){return 0===a.indexOf(b.name)?(a.length===b.name.length&&(d=kb+(b.main?b.main:"main")),a=a.replace(b.name,b.location||b.name)+d,T):void 0}),a}function B(a){this.uid=a.uid,this.id=a.id||null,this.url=a.url,this.deps=a.deps||[],this.depExports=new Array(this.deps.length),this.status=a.status||B.STATUS.init,this.factory=a.factory||b,this.exports={}}function C(a){throw qb.replace("%s",a)}function D(a,b,c){var d,f=rb.cache,g=tb+sb++,h=r();if("string"!==e(a)&&(c=b,b=a,a=null),"array"!==e(b)&&(c=b,b=null),f.path2uid[h]?f.path2uid[h].push(g):f.path2uid[h]=[g],b||"function"!==e(c)||(b=[],c.length&&(c.toString().replace(ob,"").replace(nb,function(a,c,d){b.push(d)}),b=(1===c.length?["require"]:["require","exports","module"]).concat(b))),a){if(f.mods[a]&&rb.debug)return L(yb.error,[qb.replace("%s",a),h]),C(a);f.mods[a]=pb}d=f.mods[g]=new B({uid:g,id:a,url:h,deps:b,factory:c,status:B.STATUS.init});var i=p().kn_name;i&&u(i)&&!d.id&&(d.id=i),L(yb.create,[d]),d.resolveDeps(),E(d)}function E(a){var e=rb.cache,f=a.deps.length,g=rb.data.paths&&rb.data.paths[a.id],h=g?mb.href:a.url;ub.add(a),e.mods[a.uid]||(e.mods[a.uid]=pb),a.setStatus(B.STATUS.fetching),c(a.deps,function(c,g){if(a.depExports[g])return--f;var i=x(c,h),j=e.path2uid[i];return j&&e.mods[j[0]]&&(e.mods[j[0]].status===B.STATUS.complete||J(i,a))?(--f,void(a.depExports[g]=e.mods[j[0]].exports)):(vb[i]?d(vb[i],a)<0&&vb[i].push(a):vb[i]=[a],void(wb[i]||(wb[i]=!0,n(i,c,b))))}),0===f&&H(a)}function F(a,b){var d=arguments.length;if("object"===e(a)&&1===d)return void rb.config(a);if("array"===e(a)&&0===a.length)return"function"===e(b)?b():b;var f=r();if("string"===e(a)&&1===d)return G(a,f);if("function"!==e(b))throw"Global require's args TypeError.";var g=new B({uid:tb+sb++,id:null,url:f,deps:a,factory:b,status:B.STATUS.init});c(a,function(a,b){g.depExports[b]=I(a,g)}),E(g)}function G(a,b){var c=a.indexOf(".css");if(c>0&&c===a.length-4)return{};var d=I(a);if(d)return d;var e=x(a,b),f=rb.cache.path2uid[e][0];return rb.cache.mods[f].exports||null}function H(a){ub.remove(a),a.exec(),rb.cache.mods[a.uid]=a,a.id&&(rb.cache.mods[a.id]=a);var b=vb[a.url];b&&(delete vb[a.url],c(b,function(b){b.ready&&b.status===B.STATUS.fetching&&b.ready(a)}))}function I(a,b){if("require"===a)return F;if("module"===a)return b;if("exports"===a)return b&&b.exports;var c=rb.cache;if(c.mods[a]){var d=x(a,b&&b.url||r()),e=c.mods[a]||c.mods[c.path2uid[d][0]];if(e.status===B.STATUS.complete||J(d,b))return e.exports}return null}function J(a,b){var c,e=!1,f=rb.cache.path2uid[a];return f&&(c=rb.cache.mods[f[0]])&&d(vb[b.url],c)>=0&&(e=!0),e}function K(a,b,c){xb[a]||(xb[a]=[]),xb[a].push({handler:b,context:c})}function L(a,b){var d=xb[a];d&&c(d,function(a){a.handler.apply(a.context,b)})}var M,N,O=Object.prototype,P=Array.prototype,Q=P.forEach,R=O.hasOwnProperty,S=O.toString,T={},U={"[object Object]":"object","[object Array]":"array","[object Function]":"function","[object RegExp]":"regexp","[object String]":"string","[object Number]":"number"},V=["Trident/([^ ;]*)","AppleWebKit/([^ ;]*)","Opera/([^ ;]*)","rv:([^ ;]*)(.*?)Gecko/([^ ;]*)","MSIEs([^ ;]*)","AndroidWebKit/([^ ;]*)"],W=new RegExp(V.join("|")),X=window.navigator.userAgent.match(W)||0,Y=!1,Z=!0;X[1]||X[7]?Y=X[1]<6||X[7]<=9:X[2]||X[8]?Z=!1:X[4]&&(Y=X[4]<18);var $,_=0,ab=[],bb=document,cb=bb.head||bb.getElementsByTagName("head")[0],db=bb.getElementsByTagName("base")[0];db&&(cb=db.parentNode);var eb,fb,gb="readyState"in bb.createElement("script"),hb=/\/$/g,ib=/\.(js|css|tpl|txt)$/,jb=".",kb="/",lb="..",mb=a.location;B.prototype.setStatus=function(a){var b=this;if(0>a||a>4)throw"Status "+a+" is now allowed.";switch(b.status=a,a){case 2:L(yb.fetch,[b]);break;case 3:L(yb.complete,[b])}},B.prototype.ready=function(a){var b;if(a.url){rb.data.paths&&rb.data.paths[this.id]&&(b=!0);for(var c=0;c<this.deps.length;++c){var d=x(this.deps[c],b?mb.href:this.url);if(d===a.url){this.depExports[c]=a.exports;break}}}this.checkAllDeps()&&H(this)},B.prototype.checkAllDeps=function(){for(var a=!0,b=0;b<this.depExports.length;++b)if(f(this.depExports[b])){a=!1;break}return a},B.prototype.resolveDeps=function(){function a(a,c){if("array"===e(a)&&"function"===e(c))return F(a,c);if("string"!==e(a)||c)throw"Module require's args TypeError.";return G(a,b.url)}var b=this;a.async=F.async,a.toUrl=F.toUrl,b.deps&&b.deps.length>0&&c(b.deps,function(c,d){if("require"===c)return void(b.depExports[d]=a);if("exports"===c)return b.depExports[d]=b.exports,void(b.cjsWrapper=!0);if("module"===c)return b.depExports[d]=b,void(b.cjsWrapper=!0);var e=I(c,b);e&&(b.depExports[d]=e)})},B.prototype.exec=function(){var a=this;a.cjsWrapper?a.factory.apply(null,a.depExports):a.exports="function"===e(a.factory)?a.factory.apply(null,a.depExports):a.factory,f(a.exports)&&(a.exports={}),rb.data.debug||delete a.factory,a.setStatus(B.STATUS.complete)},B.STATUS={init:0,loaded:1,fetching:2,complete:3};var nb=/\brequire\s*\(\s*(["'])([^'"\s]+)\1\s*\)/g,ob=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,pb={id:null,uid:null,url:null,status:null,exports:{}},qb="more then one module defined with the same id: %s";F.toUrl=function(a){return x(a)},F.async=function(a,b){F([a],b)},D.amd={creator:"AceMood",email:"zmike86@gmail.com"};var rb={},sb=0,tb="AceMood@kernel_",ub={mods:{},add:function(a){this.mods[a.uid]&&L(yb.error,["current mod with uid: "+a.uid+" and file path: "+a.url+" is fetching now"]),this.mods[a.uid]=a},clear:function(){this.mods={}},remove:function(a){this.mods[a.uid]&&(this.mods[a.uid]=null,delete this.mods[a.uid])}},vb={},wb={},xb={};rb.config=function(a){if("object"!==e(a))throw"config object must an object";var b,c;for(b in a)if(R.call(a,b))if(rb.data[b])for(c in a[b])rb.data[b][c]=a[b][c];else rb.data[b]=a[b]},rb.cache={mods:{},path2uid:{}},rb.reset=function(){this.cache.mods={},this.cache.path2uid={},this.data={},xb={}},rb.url=function(a){return a},rb.on=K,rb.emit=L,rb.request=m,rb.eventsType=yb,rb.data={},a.require=F,a.define=D,a.kerneljs=rb,rb.config({baseUrl:"",debug:!0,paths:{},useLocalCache:!1});var yb={create:"create",fetch:"fetch",endFetch:"end:fetch",complete:"complete",error:"error"}}(this);
//# sourceMappingURL=kernel.min.map